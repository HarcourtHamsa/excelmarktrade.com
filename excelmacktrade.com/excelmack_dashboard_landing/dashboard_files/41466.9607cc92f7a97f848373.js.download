(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[41466,80717],{706617:(t,e)=>{"use strict";e.hasProperty=e.isObject=void 0,e.isObject=function(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)},e.hasProperty=function(t,e){return e in t}},28027:(t,e,s)=>{"use strict";s.d(e,{default:()=>i});const i=function(t,e,s,i){for(var a=t.length,r=s+(i?1:-1);i?r--:++r<a;)if(e(t[r],r,t))return r;return-1}},77046:(t,e,s)=>{"use strict";s.d(e,{default:()=>i});const i=function(t){return function(e){return null==e?void 0:e[t]}}},800417:(t,e,s)=>{"use strict";s.d(e,{default:()=>l});var i=s(28027),a=s(498827),r=s(745582),o=Math.max,n=Math.min;const l=function(t,e,s){var l=null==t?0:t.length;if(!l)return-1;var h=l-1;return void 0!==s&&(h=(0,r.default)(s),h=s<0?o(l+h,0):n(h,l-1)),(0,i.default)(t,(0,a.default)(e,3),h,!0)}},745582:(t,e,s)=>{"use strict";s.d(e,{default:()=>o});var i=s(968877),a=1/0;const r=function(t){return t?(t=(0,i.default)(t))===a||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0};const o=function(t){var e=r(t),s=e%1;return e==e?s?e-s:e:0}},21519:t=>{t.exports={}},288341:t=>{t.exports={}},427001:t=>{t.exports={}},830851:t=>{t.exports={}},503945:t=>{t.exports={}},412064:t=>{t.exports={}},797638:(t,e,s)=>{"use strict";s.d(e,{createEmbedWidgetWrapper:()=>o});s(503945);var i=s(588537),a=s(351079),r=s(23580);function o(t,e,s={}){if(null===t.parentElement)return console.warn("Can not wrap 'elWidgetContainer' because it has no parentElement"),t;let o=null,n=document.querySelector(".js-embed-widget-body");const l=null!==n;if(l){n=(0,i.ensureNotNull)(n),o=(0,i.ensureNotNull)(n.parentElement);let t=document.querySelector(".js-embed-widget-head");null===t&&(t=document.createElement("div"),t.classList.add("tv-embed-widget-wrapper__header"),t.classList.add("js-embed-widget-head"),o.insertBefore(t,n))}else o=document.createElement("div"),o.classList.add("tv-embed-widget-wrapper"),o.innerHTML='<div class="tv-embed-widget-wrapper__header js-embed-widget-head"></div><div class="tv-embed-widget-wrapper__body js-embed-widget-body"></div>',n=o.querySelector(".js-embed-widget-body");if(s.overflowAuto&&n.classList.add("tv-embed-widget-wrapper__body--overflow_auto"),s.showBorderOnTransparent&&n.classList.add("tv-embed-widget-wrapper__body--border-on-transparent"),!s.isWhiteLabel){const t=!document.documentElement.classList.contains("is-transparent")||Boolean(s.showBorderOnTransparent);(0,r.getCustomerCopyrightData)(s.customer,s.locale,e).then((e=>{(0,i.ensureNotNull)(n).appendChild((0,a.createCopyrightLabel)({snapToEdge:t,...s.copyrightOptions,...e,isSheriffDisabled:s.isSheriffDisabled}))}))}return l||(t.parentElement.insertBefore(o,t),n.appendChild(t)),t}},15693:(t,e,s)=>{"use strict";function i(t){return"="+JSON.stringify(a(t))}function a(t){return Object.keys(t).sort().reduce(((e,s)=>("[object Object]"===Object.prototype.toString.call(t[s])?e[s]=a(t[s]):e[s]=t[s],e)),{})}function r(t){return Boolean(t.inputs)||function(t){return Boolean(t.replay)
}(t)||t.session||t.adjustment||t["currency-id"]||t["unit-id"]?i(t):t.symbol}function o(t){return"="===t[0]}function n(t){if(!o(t))return{symbol:t};try{return JSON.parse(t.slice(1))}catch(e){return{symbol:t}}}function l(t){return"string"==typeof t?t:l(t.symbol)}s.d(e,{encodeExtendedSymbolOrGetSimpleSymbolString:()=>r,isEncodedExtendedSymbol:()=>o,decodeExtendedSymbol:()=>n,unwrapSimpleSymbol:()=>l})},381269:(t,e,s)=>{"use strict";s.d(e,{customFormatters:()=>i});const i={dateFormatter:null,timeFormatter:null,tickMarkFormatter:null,priceFormatterFactory:null}},504122:(t,e,s)=>{"use strict";s.d(e,{DateFormatter:()=>r});var i=s(381269),a=s(830318);class r{constructor(t="yyyy-MM-dd",e=!1){this._dateFormatFunc=e?(0,a.getDateFormatWithWeekday)(t):a.dateFormatFunctions[t]}format(t){return i.customFormatters&&i.customFormatters.dateFormatter?i.customFormatters.dateFormatter.format(t):this._dateFormatFunc(t,!1)}formatLocal(t){return i.customFormatters.dateFormatter?i.customFormatters.dateFormatter.formatLocal?i.customFormatters.dateFormatter.formatLocal(t):i.customFormatters.dateFormatter.format(t):this._dateFormatFunc(t,!0)}}},820187:(t,e,s)=>{"use strict";s.d(e,{hourMinuteSecondFormat:()=>r,hourMinuteSecondMilisecFormat:()=>o,hourMinuteFormat:()=>n,twelveHourMinuteSecondFormat:()=>l,twelveHourMinuteFormat:()=>h,TimeFormatter:()=>d});var i=s(381269),a=s(796347);const r="%h:%m:%s",o="%h:%m:%s.%ss",n="%h:%m",l="%h:%m:%s %ampm",h="%h:%m %ampm";class d{constructor(t){this._isTwelveHoursFormat=!1,this._formatStr=t||r,this._isTwelveHoursFormat=this._formatStr.includes("%ampm")}format(t){return i.customFormatters.timeFormatter?i.customFormatters.timeFormatter.format(t):this._formatTime(t,!1)}formatLocal(t){return i.customFormatters.timeFormatter?i.customFormatters.timeFormatter.formatLocal?i.customFormatters.timeFormatter.formatLocal(t):i.customFormatters.timeFormatter.format(t):this._formatTime(t,!0)}_formatTime(t,e){let s=e?t.getHours():t.getUTCHours();const i=e?t.getMinutes():t.getUTCMinutes(),r=e?t.getSeconds():t.getUTCSeconds(),o=e?t.getMilliseconds():t.getUTCMilliseconds();let n="";return this._isTwelveHoursFormat&&(n=s>=12?"PM":"AM",s%=12,s=s||12),this._formatStr.replace("%h",(0,a.numberToStringWithLeadingZero)(s,2)).replace("%m",(0,a.numberToStringWithLeadingZero)(i,2)).replace("%s",(0,a.numberToStringWithLeadingZero)(r,2)).replace("%ss",(0,a.numberToStringWithLeadingZero)(o,3)).replace("%ampm",n)}}},908803:(t,e,s)=>{"use strict";var i;s.d(e,{SymbolErrorPermissionDeniedReason:()=>i,permissionDenied:()=>a,invalidSymbol:()=>r}),function(t){t.Symbol="symbol",t.GroupPermission="group"}(i||(i={}));const a="permission denied",r="invalid symbol"},695078:(t,e,s)=>{"use strict";s.d(e,{ensureTimePointIndexIndex:()=>o,unpackNonSeriesData:()=>n});var i=s(706617),a=s(588537);function r(t){if(!(0,i.isObject)(t))throw new Error("Graphics commands should be wrapped in an object");if((0,i.hasProperty)(t,"create"),(0,i.hasProperty)(t,"erase")){const e=t.erase;(0,a.assert)(Array.isArray(e),"Collection of erase commands should be array")
;for(const t of e){if(!(0,i.isObject)(t)||!(0,i.hasProperty)(t,"action"))throw new Error("Command should be an object with 'action' property");(0,a.assert)("all"===t.action||"one"===t.action,"Erase command action should be 'all' or 'one'")}}return t}function o(t){if(t<0)throw new Error("TimePointIndexIndex should be non-negative integer");return t}async function n(t){if(""===t)return null;const e=JSON.parse(t);if(!(0,i.isObject)(e)||"function"==typeof e)throw new Error("Non-object content in the non-series envelope");if((0,i.hasProperty)(e,"indexes_replace"))return{indexes_replace:!0};const a={indexes_replace:!1};if((0,i.hasProperty)(e,"offsets")&&(a.offsets=e.offsets),(0,i.hasProperty)(e,"isUpdate")){if("boolean"!=typeof e.isUpdate)throw new Error('Invalid type of "isUpdate" field');a.isUpdate=e.isUpdate}if((0,i.hasProperty)(e,"data")&&(a.data=e.data),(0,i.hasProperty)(e,"graphicsCmds")&&(a.graphicsCmds=r(e.graphicsCmds)),(0,i.hasProperty)(e,"dataCompressed")||(0,i.hasProperty)(e,"graphicsCmdsCompressed")){const{default:t}=await Promise.all([s.e(93194),s.e(81578)]).then(s.t.bind(s,593194,23));if((0,i.hasProperty)(e,"dataCompressed")){const s=await(new t).loadAsync(e.dataCompressed,{base64:!0});a.data=JSON.parse(await s.file("").async("text"))}if((0,i.hasProperty)(e,"graphicsCmdsCompressed")){const s=await(new t).loadAsync(e.graphicsCmdsCompressed,{base64:!0});a.graphicsCmds=r(JSON.parse(await s.file("").async("text")))}return a}return a}},103653:(t,e,s)=>{"use strict";s.d(e,{seriesPlotFunctionMap:()=>h,barFunction:()=>d,SeriesData:()=>g});var i,a=s(588537),r=s(752280),o=s(377884);!function(t){t[t.FromLeft=-1]="FromLeft",t[t.FromRight=1]="FromRight"}(i||(i={}));const n={open:t=>t[1],high:t=>t[2],low:t=>t[3],close:t=>t[4],hl2:t=>(t[2]+t[3])/2,hlc3:t=>(t[2]+t[3]+t[4])/3,ohlc4:t=>(t[1]+t[2]+t[3]+t[4])/4},l=["open","high","low","close","hl2","hlc3","ohlc4"];function h(){const t=new Map;return l.forEach(((e,s)=>{t.set(e,d(e))})),t}function d(t,e){const s=n[null!=e?e:t],i=n[t];return(t,e)=>0===e?s(t):i(t)}function c(t,e){return null==t[e]}const m=[{barsToMerge:10,forBarspacingLargerThen:.03},{barsToMerge:30,forBarspacingLargerThen:.01},{barsToMerge:100,forBarspacingLargerThen:.003},{barsToMerge:500,forBarspacingLargerThen:0}];class g{constructor(){this._pressedChunks={chunks:new Map,priceSource:"uninitialized"},this.m_bars=new r.PlotList(h(),c),this.m_nsBars=new r.PlotList(h(),c),this._clearPressedChunks()}bars(){return this.m_bars}nsBars(){return this.m_nsBars}pressedChunks(t,e){if(e!==this._pressedChunks.priceSource){this._pressedChunks.priceSource=e;const t=this.m_bars.first();t&&(this._clearPressedChunks(),this._rebuildPressedChunks(t))}const s=(0,a.ensureDefined)(m.find((e=>e.forBarspacingLargerThen<=t)));return(0,a.ensureDefined)(this._pressedChunks.chunks.get(s.barsToMerge))}mergeRegularBars(t){const e=this.m_bars.size(),s=this.m_bars.merge(t)
;return s&&"uninitialized"!==this._pressedChunks.priceSource&&(e===this.m_bars.size()&&s.index===this.m_bars.lastIndex()?this._updateLatestChunks():this._rebuildPressedChunks(s)),s}size(){return this.m_bars.size()+this.m_nsBars.size()}each(t){this.m_bars.each(t),this.m_nsBars.each(t)}clear(){this.m_bars.clear(),this.m_nsBars.clear(),this.lastProjectionPrice=void 0,this._clearPressedChunks()}isEmpty(){return this.m_bars.isEmpty()&&this.m_nsBars.isEmpty()}first(){return this.m_bars.isEmpty()?this.m_nsBars.first():this.m_bars.first()}last(){return this.m_nsBars.isEmpty()?this.m_bars.last():this.m_nsBars.last()}search(t,e){return this.nsBars().isEmpty()?this.bars().search(t,e):this.bars().isEmpty()||(0,a.ensureNotNull)(this.nsBars().firstIndex())<=t?this.nsBars().search(t,e):this.bars().search(t,e)}valueAt(t){const e=this.search(t);return null!==e?e.value:null}plotValueToTimePointIndex(t,e,s){if(s===i.FromRight){const s=(s,i)=>{const a=i[e];return null!=a&&t>=a},i=this.m_bars.findLast(s);if(null!==i)return i.index;const a=this.m_nsBars.findLast(s);return null!==a?a.index:this.m_bars.firstIndex()}if(s===i.FromLeft){const s=(s,i)=>{const a=i[e];return null!=a&&t<=a},i=this.m_bars.findFirst(s);if(null!==i)return i.index;const a=this.m_nsBars.findFirst(s);return null!==a?a.index:this.m_bars.lastIndex()}throw new Error("plotValueToTimePointIndex: unsupported search mode")}moveData(t){this.m_bars.move(t),this.m_nsBars.move(t),this.m_bars.size()>0&&this._rebuildPressedChunks((0,a.ensureNotNull)(this.m_bars.first()))}_rebuildPressedChunks(t){const e=this._pressedChunks.priceSource;if("uninitialized"===e)return;const s=t.index,i=n[e],r=(t,e,s)=>{let a=null;for(;t.hasNext();){const r=t.next(),o=i(r.value);a&&r.index-a.startTime>=s.barsToMerge&&(e.push(a),a=null),a?(a.endTime=r.index,a.high=Math.max(a.high,o),a.low=Math.min(a.low,o),a.close=o):a={startTime:r.index,endTime:r.index,open:o,high:o,low:o,close:o}}a&&e.push(a)};m.forEach((t=>{const e=(0,a.ensureDefined)(this._pressedChunks.chunks.get(t.barsToMerge)),i=(0,o.lowerbound)(e,s,((t,e)=>t.endTime<e));if(0===i&&e.length>0){const s=e[0].startTime-1,i=(0,a.ensureNotNull)(this.m_bars.firstIndex()),o=this.m_bars.rangeIterator(i,s),n=[];r(o,n,t);const l=n.concat(e);this._pressedChunks.chunks.set(t.barsToMerge,l)}else{const s=(0,a.ensureNotNull)(this.m_bars.lastIndex());e.splice(i);let o=(0,a.ensureNotNull)(this.m_bars.firstIndex());e.length&&(o=e[e.length-1].endTime+1);const n=this.m_bars.rangeIterator(o,s);r(n,e,t)}}))}_updateLatestChunks(){const t=(0,a.ensureNotNull)(this.m_bars.lastIndex());m.forEach((e=>{const s=(0,a.ensureDefined)(this._pressedChunks.chunks.get(e.barsToMerge)),i=this.m_bars.rangeIterator(t,t).next(),r=i.value[4],o=s[s.length-1];o.high=Math.max(o.high,r),o.low=Math.min(o.low,r),o.close=r,o.endTime=i.index}))}_clearPressedChunks(){m.forEach((t=>this._pressedChunks.chunks.set(t.barsToMerge,[])))}}},180372:(t,e,s)=>{"use strict";s.r(e),s.d(e,{SeriesDataSource:()=>f,initialRequestOptionsToNumBars:()=>w,parseJapaneseProjectionBars:()=>C})
;var i=s(588537),a=s(270617),r=s(15693),o=s(273044),n=s(103653),l=s(695078),h=s(908803),d=s(97639),c=s.n(d);class m{constructor(){this._modified=new(c()),this._loading=new(c()),this._completed=new(c()),this._error=new(c()),this._symbolError=new(c()),this._symbolResolved=new(c()),this._seriesError=new(c()),this._symbolNotPermitted=new(c()),this._symbolInvalid=new(c()),this._symbolGroupNotPermitted=new(c()),this._chartTypeNotPermitted=new(c()),this._intradaySpreadNotPermitted=new(c()),this._intradayExchangeNotPermitted=new(c()),this._customIntervalNotPermitted=new(c()),this._secondsIntervalNotPermitted=new(c()),this._tickMarksRangeChanged=new(c()),this._barReceived=new(c()),this._seriesTimeFrame=new(c()),this._dataUpdated=new(c())}destroy(){this._modified.destroy(),this._loading.destroy(),this._completed.destroy(),this._error.destroy(),this._symbolError.destroy(),this._symbolResolved.destroy(),this._seriesError.destroy(),this._symbolInvalid.destroy(),this._symbolNotPermitted.destroy(),this._symbolGroupNotPermitted.destroy(),this._chartTypeNotPermitted.destroy(),this._intradaySpreadNotPermitted.destroy(),this._intradayExchangeNotPermitted.destroy(),this._customIntervalNotPermitted.destroy(),this._secondsIntervalNotPermitted.destroy(),this._tickMarksRangeChanged.destroy(),this._barReceived.destroy(),this._seriesTimeFrame.destroy(),this._dataUpdated.destroy()}modified(){return this._modified}loading(){return this._loading}completed(){return this._completed}error(){return this._error}symbolError(){return this._symbolError}symbolResolved(){return this._symbolResolved}seriesError(){return this._seriesError}symbolInvalid(){return this._symbolInvalid}symbolNotPermitted(){return this._symbolNotPermitted}symbolGroupNotPermitted(){return this._symbolGroupNotPermitted}chartTypeNotPermitted(){return this._chartTypeNotPermitted}intradaySpreadNotPermitted(){return this._intradaySpreadNotPermitted}intradayExchangeNotPermitted(){return this._intradayExchangeNotPermitted}customIntervalNotPermitted(){return this._customIntervalNotPermitted}secondsIntervalNotPermitted(){return this._secondsIntervalNotPermitted}tickMarksRangeChanged(){return this._tickMarksRangeChanged}barReceived(){return this._barReceived}seriesTimeFrame(){return this._seriesTimeFrame}dataUpdated(){return this._dataUpdated}fireCompleted(t){this._completed.fire(t)}fireModified(){this._modified.fire()}fireLoading(t){this._loading.fire(t)}fireError(){this._error.fire()}fireSymbolError(t){this._symbolError.fire(t),this.fireError()}fireSymbolResolved(t){this._symbolResolved.fire(t)}fireSeriesError(t){this._seriesError.fire(t),this.fireError()}fireSymbolInvalid(){this._symbolInvalid.fire()}fireSymbolNotPermitted(t){this._symbolNotPermitted.fire(t)}fireSymbolGroupNotPermitted(t){this._symbolGroupNotPermitted.fire(t)}fireChartTypeNotPermitted(t){this._chartTypeNotPermitted.fire(t),this.fireError()}fireIntradaySpreadNotPermitted(){this._intradaySpreadNotPermitted.fire(),this.fireError()}fireIntradayExchangeNotPermitted(){this._intradayExchangeNotPermitted.fire(),this.fireError()}
fireCustomIntervalNotPermitted(){this._customIntervalNotPermitted.fire(),this.fireError()}fireSecondsIntervalNotPermitted(){this._secondsIntervalNotPermitted.fire(),this.fireError()}fireTickMarksRangeChanged(t){this._tickMarksRangeChanged.fire(t)}fireBarReceived(t){this._barReceived.fire(t)}fireSeriesTimeFrame(t,e,s,i,a){this._seriesTimeFrame.fire(t,e,s,i,a)}fireDataUpdated(t,e,s){this._dataUpdated.fire(t,e,s)}}var g=s(911905),u=s(749473);const _=(0,g.getLogger)("Chart.SeriesDataSource");var p;!function(t){t[t.Idle=0]="Idle",t[t.AwaitingConnection=1]="AwaitingConnection",t[t.AwaitingFirstDataUpdate=2]="AwaitingFirstDataUpdate",t[t.Active=3]="Active"}(p||(p={}));let b=1;let y=1;function w(t){return t.startDate?t.endDate||t.count?t.endDate?["from_to",t.startDate,t.endDate]:["bar_count",t.startDate,(0,i.ensure)(t.count)]:["from_to",t.startDate]:t.count||300}class f{constructor(t,e,s,i){this._symbol=null,this._resolvedSymbolName=null,this._instanceId=null,this._symbolInstanceId=null,this._resolution=null,this._timeFrame=null,this._data=new n.SeriesData,this._dataEvents=new m,this._status=p.Idle,this._turnaroundCounter=1,this._boundOnGatewayIsConnectedChanged=this._onGatewayIsConnectedChanged.bind(this),this._ongoingDataUpdate=Promise.resolve(),this._gateway=t,this._turnaroundPrefix=e,this._createSeriesParams=w(null!=s?s:{count:300}),this._timeFrame=i||null,this._gateway.isConnected().subscribe(this._boundOnGatewayIsConnectedChanged)}destroy(){this.stop(),this._gateway.isConnected().unsubscribe(this._boundOnGatewayIsConnectedChanged)}modifySeries(t,e,s=null,r=!1){r&&(_.logNormal("Due to force flag clearing symbol & resolution to force re-requesting data."),this._symbol=null,this._resolution=null);const n=this._symbol,l=this._resolution;if(this._symbol=t,this._resolution=e,null===this._instanceId)return void(this._timeFrame=s);const h=!(0,a.deepEquals)(n,t)[0]||null!==this._resolvedSymbolName&&this._resolvedSymbolName!==this._getSymbolNameString(t),d=null===l||!o.Interval.isEqual(l,e);(h||d||null!==s)&&(this._timeFrame=null,(h||d)&&this._turnaroundCounter++,h&&this._resolveSymbol(),this._gateway.modifySeries(this._instanceId,this.turnaround(),(0,i.ensureNotNull)(this._symbolInstanceId),this._resolution,s,this._onMessage.bind(this)),this._dataEvents.fireModified())}requestMoreData(t){null!==this._instanceId&&this._gateway.requestMoreData(this._instanceId,t,this._onMessage.bind(this))}requestMoreTickmarks(t){null!==this._instanceId&&this._gateway.requestMoreTickmarks(this._instanceId,t,this._onMessage.bind(this))}isStarted(){return this._status!==p.Idle}isActive(){return this._status===p.Active}resolution(){return this._resolution}start(){this.isStarted()?_.logNormal("start: data source is already started, nothing to do"):((0,i.assert)(null!==this._symbol,"symbol must be set before start"),(0,i.assert)(null!==this._resolution,"resolution must be set before start"),this._gateway.isConnected().value()?this._createSeries():this._changeStatusTo(p.AwaitingConnection))}stop(){
this.isStarted()?(null!==this._instanceId&&(this._gateway.removeSeries(this._instanceId),this._instanceId=null),this._changeStatusTo(p.Idle)):_.logNormal("stop: data source is already stopped, nothing to do")}instanceId(){return this._instanceId}data(){return this._data}clearData(){this.isStarted()?this._enqueueUpdate((()=>this._clearDataImpl())):this._clearDataImpl()}dataEvents(){return this._dataEvents}turnaround(){return`${this._turnaroundPrefix}${this._turnaroundCounter}`}symbolInstanceId(){return this._symbolInstanceId}symbol(){return this._symbol}moveData(t){this._enqueueUpdate((()=>this._data.moveData(t)))}_resolveSymbol(){null!==this._symbol&&(this._symbolInstanceId=this._gateway.resolveSymbol("sds_sym_"+b++,(0,r.encodeExtendedSymbolOrGetSimpleSymbolString)(this._symbol),this._onMessage.bind(this)))}_clearDataImpl(){this._data.clear()}_changeStatusTo(t){(0,i.assert)(this._status!==t,"Source and destination status should be distinct"),_.logNormal(`Status changed from ${p[this._status]} to ${p[t]}`),this._status=t}_createSeries(){(0,i.assert)(this._status!==p.Active,'Status should not be "Active" when creating a study'),this._instanceId="sds_"+y++,this._resolveSymbol(),this._gateway.createSeries(this._instanceId,this.turnaround(),(0,i.ensureNotNull)(this._symbolInstanceId),(0,i.ensureNotNull)(this._resolution),this._createSeriesParams,this._timeFrame,this._onMessage.bind(this)),this._timeFrame=null,this._changeStatusTo(p.AwaitingFirstDataUpdate)}_onGatewayIsConnectedChanged(t){t?this._onGatewayConnected():this._onGatewayDisconnected()}_onGatewayConnected(){this._status===p.AwaitingConnection&&this._createSeries()}_onGatewayDisconnected(){this._status!==p.Idle&&this._status!==p.AwaitingConnection&&(this._instanceId=null,this._changeStatusTo(p.AwaitingConnection)),this._turnaroundCounter=1}_onMessage(t){this._enqueueUpdate((()=>this._onMessageImpl(t)))}async _onMessageImpl(t){switch(t.method){case"symbol_resolved":{const[e,s]=t.params;if(e!==this._symbolInstanceId){_.logNormal(`Resolve for old symbol, expected: ${this._symbolInstanceId}, actual ${t.params[0]}`);break}this._onSymbolResolved(s);break}case"symbol_error":if(t.params[0]!==this._symbolInstanceId){_.logNormal(`Symbol error for old symbol, expected: ${this._symbolInstanceId}, actual ${t.params[0]}`);break}this._onSymbolError(t);break;case"series_timeframe":{const[e,s,i,a,r,o,n]=t.params;if(!this._checkTurnaround(e,s)){_.logNormal(`Time frame for old data, expected: ${this._symbolInstanceId} (${this.turnaround()}), actual ${e} (${s})`);break}this._onSeriesTimeFrame(i,a,r,o,n);break}case"series_error":{const[e,s]=t.params;if(!this._checkTurnaround(e,s)){_.logNormal(`Series error for old data, expected: ${this._symbolInstanceId} (${this.turnaround()}), actual ${e} (${s})`);break}this._onSeriesError(t.params[2]);break}case"series_loading":{const[e,s]=t.params;if(!this._checkTurnaround(e,s))break;this._onSeriesLoading(t.time);break}case"series_completed":{const[e,s,i,a]=t.params;if(!this._checkTurnaround(e,i)){
_.logNormal(`Series completed for old data, expected: ${this._symbolInstanceId} (${this.turnaround()}), actual ${e} (${i})`);break}this._onSeriesCompleted(s,t.time,a);break}case"data_update":if(!this._checkTurnaround(t.params.customId,t.params.turnaround)){_.logNormal(`Data update for old data, expected: ${this._symbolInstanceId} (${this.turnaround()}), actual ${t.params.customId} (${t.params.turnaround})`);break}await this._onDataUpdate(t.params.plots,t.params.nonseries,t.params.lastBar);break;case"clear_data":if(t.params.turnaround!==this.turnaround()){_.logNormal(`Clear data for old data, expected: ${this.turnaround()}, actual ${t.params.turnaround}`);break}this._clearDataImpl(),this._dataEvents.fireDataUpdated(void 0,!1,null)}}_onSeriesError(t){let e,s;if("string"==typeof t)s={error:t},e=t;else if(s=t,t.ctx){const s={};Object.entries(t.ctx).forEach((([t,e])=>{s[t]=e.toString()})),e=t.error.format(s)}else e=t.error;if(e.startsWith("study_not_auth:")){const t=e.split(":",2)[1].split("@",2)[0];["BarSetRenko","BarSetPriceBreak","BarSetKagi","BarSetPnF"].includes(t)?this._dataEvents.fireChartTypeNotPermitted(t):"BarSetSpread"===t?this._dataEvents.fireIntradaySpreadNotPermitted():"BarSetRange"===t&&this._dataEvents.fireCustomIntervalNotPermitted()}else"resolution_not_entitled"===e?this._dataEvents.fireIntradayExchangeNotPermitted():"custom_resolution"===e?this._dataEvents.fireCustomIntervalNotPermitted():"seconds_not_entitled"===e&&this._dataEvents.fireSecondsIntervalNotPermitted();this._dataEvents.fireSeriesError(s)}_onSeriesTimeFrame(t,e,s,i,a){this._dataEvents.fireSeriesTimeFrame(t,e,s,null==i||i,a)}_onSymbolError(t){if(t.params[1]===h.permissionDenied)switch(t.params[2]){case h.SymbolErrorPermissionDeniedReason.Symbol:this._dataEvents.fireSymbolNotPermitted(t.params[3]);break;case h.SymbolErrorPermissionDeniedReason.GroupPermission:this._dataEvents.fireSymbolGroupNotPermitted(t.params[3]);break;default:this._dataEvents.fireSymbolNotPermitted(t.params[2])}else t.params[1]===h.invalidSymbol&&this._dataEvents.fireSymbolInvalid();this._dataEvents.fireSymbolError(t.params[1])}_onSymbolResolved(t){this._resolvedSymbolName=(0,u.symbolForApi)(t,this._getSymbolNameString((0,i.ensureNotNull)(this._symbol))),this._dataEvents.fireSymbolResolved(t)}_getSymbolNameString(t){return"string"==typeof t.symbol?t.symbol:t.symbol.symbol}async _onDataUpdate(t,e,s){this._onDataUnpacked(t,s,await C(e))}_enqueueUpdate(t){return this._ongoingDataUpdate=this._ongoingDataUpdate.then(t,t),this._ongoingDataUpdate}_onDataUnpacked(t,e,s){if(this._status===p.Idle)return;this._status===p.AwaitingFirstDataUpdate&&(this._changeStatusTo(p.Active),this._clearDataImpl());const i=this._data.bars().size(),a=this._data.bars().firstIndex(),r=this._data.mergeRegularBars(t);null!==s&&(this._data.nsBars().clear(),this._data.nsBars().merge(s.projectionPlots),this._data.lastProjectionPrice=s.lastPrice,null!==s.boxSize&&(this._data.boxSize=s.boxSize),this._data.reversalAmount=s.reversalAmount);const o=null===a||null!==r&&r.index<a
;this._dataEvents.fireDataUpdated(e,o,r),i!==this._data.bars().size()&&null!==r&&this._dataEvents.fireBarReceived(r)}_onSeriesLoading(t){this._dataEvents.fireLoading(t)}_onSeriesCompleted(t,e,s){this._dataEvents.fireCompleted({updateMode:t,time:e,flags:s})}_checkTurnaround(t,e){return this._instanceId===t&&(void 0===e||e===this.turnaround())}}async function C(t){if(void 0===t)return{projectionPlots:[],boxSize:null};if(""===t.d||"nochange"===t.indexes)return null;const e=await(0,l.unpackNonSeriesData)(t.d);if(null===e||e.indexes_replace)return null;const s=t.indexes,{bars:i,price:a,boxSize:r,reversalAmount:o}=e.data;return{lastPrice:a,projectionPlots:(i||[]).map((t=>{let e;return"factor"in t?e=t.factor:"additionalPrice"in t&&(e=t.additionalPrice),{index:s[t.time],value:[0,t.open,t.high,t.low,t.close,t.volume,e]}})),reversalAmount:o,boxSize:r}}},983275:(t,e,s)=>{"use strict";s.d(e,{frameElementId:()=>a});const i=window.initData.hashSettings||{},a="string"==typeof i.frameElementId?i.frameElementId:null},855406:(t,e,s)=>{"use strict";function i(){try{return JSON.parse(decodeURIComponent(location.hash.substring(1)))}catch(t){return{}}}s.d(e,{parseUrlHashParams:()=>i})},228243:(t,e,s)=>{"use strict";function i(t,e){const s=Object.create(Object.getPrototypeOf(t));for(const i of e)Object.prototype.hasOwnProperty.call(t,i)&&(s[i]=t[i]);return s}s.d(e,{pickFields:()=>i})},352247:(t,e,s)=>{"use strict";s.d(e,{CHART_COLOR_SETTING_NAMES:()=>D,WIDGET_COLOR_SETTING_NAMES:()=>I,WidgetWatchlist:()=>M});var i=s(497754),a=s.n(i),r=(s(823127),s(213398),s(588537)),o=s(391055),n=s(724377),l=s(745269),h=s(17966),d=s(692598),c=s(808417),m=s(405128),g=s(721386),u=s(228243),_=s(327265),p=s(95935),b=s(526089),y=s(351299),w=s(600303),f=s(719240),C=s(262325),v=s.n(C),S=s(659192),k=s(62802),L=s(911905);var T=s(311857),E=s(39654),N=(s(21519),s(412064),s(823127)),P=s(213398);const F=(0,L.getLogger)("WidgetWatchlist"),I=["symbolActiveColor","symbolShortNameColor","symbolDescriptionColor","symbolSeparatorColor","tabActiveColor","tabInactiveColor","tabSliderColor","changeUpColor","changeDownColor","changeNeutralColor","lastColor","lastGrowingFlashColor","lastFallingFlashColor"],D=["plotLineColor","plotLineColorGrowing","plotLineColorFalling","gridLineColor","scaleFontColor","belowLineFillColorGrowing","belowLineFillColorFalling","belowLineFillColorGrowingBottom","belowLineFillColorFallingBottom","lastPriceLineColor","lastPriceLineColorGrowing","lastPriceLineColorFalling"];class M{constructor(t,e={}){this._stopPageTimeouts={},this._activePageLoadedPromise=null,this._destroyTabLabels=null,t||(F.logError("`el` is required"),(0,r.assert)(Boolean(t),"`el` is required")),this.$el=N(t),this.settings=this._prepareSettings(e),this._activePageLoadedPromise=null,this.tabsLabels=this.settings.tabs.map((t=>t.title||t.title_raw));const s=(0,u.pickFields)(this.settings,I);this.widgetColorClassMap=function(t){const e=(0,p.randomHashN)(4);return t.reduce(((t,s)=>{const i=s.replace(/[A-Z]/g,(t=>`-${t.toLowerCase()}`));return t[s]=`${i}--${e}`,t}),{})}(Object.keys(s)),
t.appendChild(function(t,e,s){const i=(t,e)=>`.${t}, .${t}:hover, .${t}:active { color: ${e} }`,a={symbolActiveColor:(t,e)=>`.${t} { background: ${e} }`,symbolSeparatorColor:(t,e)=>`.${t}:after { background: ${e} }`,tabSliderColor:(t,e)=>`.${t} { background: ${e} }`},r=document.createElement("style"),o=[];for(const r of t){const t=s[r],l=e[r];if(!t||!l||null===(0,n.tryParseRgb)(l))continue;const h=a[r];o.push(h?h(t,l):i(t,l))}return r.textContent=o.join(" "),r}(I,s,this.widgetColorClassMap)),this.settings.isEmbedWidget||"hotlists"===this.widgetName?(1===this.settings.tabs.length&&this.$el.find(".js-widget-head").addClass("i-hidden"),this.renderContent().then((()=>{this._initPages(),this.setAutoUpdate()}),(t=>{console.log("WidgetWatchlist constructor error",t)}))):this._initPages()}setAutoUpdate(){}get widgetName(){return"marketoverview"}get settingsKey(){return"watchlist__summary.properties"}get userSettings(){return{}}get templates(){return{tab:'\n\t\t\t\t<div class="tv-widget-watch-list__blank-tab js-widget-tab" data-content="{{ title_raw }}">{{ title }}\n\t\t\t\t</div>',tabContent:`\n\t\t\t\t<div class="tv-widget-watch-list{{^firstTab}} i-hidden{{/firstTab}}{{#firstTab}}{{#hotlistsSelectEnabled}} i-loading{{/hotlistsSelectEnabled}}{{/firstTab}}"{{#group}} data-tab-group="{{ group }}"{{/group}}>\n\t\t\t\t\t{{#showChart}}\n\t\t\t\t\t\t<div class="js-chart tv-widget-watch-list__chart"></div>\n\t\t\t\t\t\t<div class="js-timeframes tv-widget-watch-list__timeframe"></div>\n\t\t\t\t\t{{/showChart}}\n\t\t\t\t\t<div class="{{#isEmbedWidget}}tv-widget-watch-list__symbols-wrapper {{/isEmbedWidget}}js-symbols-wrapper"\n\t\t\t\t\t\t {{#minTableHeight}} style="min-height: {{ minTableHeight }}" {{/minTableHeight}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class="tv-site-table tv-widget-watch-list__table\n\t\t\t\t\t\t\t{{#isEmbedWidget}} tv-site-table--start-border {{/isEmbedWidget}}\n\t\t\t\t\t\t\t{{^showChart}} tv-site-table--no-start-border {{/showChart}}\n\t\t\t\t\t\t\t{{#forceEndBorder}} tv-site-table--with-end-border {{/forceEndBorder}}\n\t\t\t\t\t\t\t js-symbols-body">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{{^isEmbedWidget}}\n\t\t\t\t\t\t{{#quickLink}}\n\t\t\t\t\t\t\t<div class="js-quick-link-wrapper tv-feed-widget__quick-link-wrap tv-feed-widget__padded">\n\t\t\t\t\t\t\t\t<a class="tv-feed-widget__quick-link" href="{{ quickLink.href }}">{{ quickLink.title }}${s(108999)}</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{{/quickLink}}\n\t\t\t\t\t{{/isEmbedWidget}}\n\t\t\t\t</div>`,tabContentSkin:'\n\t\t\t\t<div class="tv-widget-watch-list{{^firstTab}} i-hidden{{/firstTab}}{{#firstTab}}{{#hotlistsSelectEnabled}} i-loading{{/hotlistsSelectEnabled}}{{/firstTab}}"{{#group}} data-tab-group="{{ group }}"{{/group}}>\n\t\t\t\t</div>'}}renderContent(){const t=this.settings.tabs.map((t=>{const e=N(P.render(this.templates.tabContent,{showChart:this.settings.show_chart,isEmbedWidget:this.settings.isEmbedWidget,group:t.group,firstTab:t===this.settings.tabs[0],forceEndBorder:this.settings.force_end_border},this.templates))
;return e.data("symbols",t.symbols.map((t=>Object({s:t.s,d:t.d,t:t.t})))),this.$el.find(".js-pages").append(e),!0}));return new Promise((e=>{Promise.all(t).then(e)}))}saveToTVSettings(t){const e=window.locale;let s=(0,k.getJSON)(this.settingsKey);s||(s={}),s[e]=t,(0,k.setJSON)(this.settingsKey,s)}destroy(){this.$pagesContainer&&(this.$pagesContainer.children().each(((t,e)=>{this._stopPage(N(e))})),this._destroyTabLabels&&this._destroyTabLabels())}resetCaches(){this.$pagesContainer&&this.$pagesContainer.children().each(((t,e)=>{const s=N(e);this._getCachedWidgetPage(s)&&this._cacheWidgetPage(s,this._createWidgetWatchlistPage(s))}))}adjustToAvailableSizes(){this.$pagesContainer.children().each(((t,e)=>{if(!e.classList.contains("i-hidden")){const t=this._getCachedWidgetPage(N(e));null==t||t.adjustToAvailableSizes()}}))}_startPage(t){let e=this._getCachedWidgetPage(t);if(e?(this._deleteStopTimeout(t),e.start()):(e=this._createWidgetWatchlistPage(t),this._cacheWidgetPage(t,e)),"function"==typeof this.settings.onActivePageLoaded){const t=this._activePageLoadedPromise=e.hasData().then((e=>{t===this._activePageLoadedPromise&&this.settings.onActivePageLoaded&&this.settings.onActivePageLoaded(e)}))}}_getCachedWidgetPage(t){return t.data("watchlist-widget-page")}_initPages(){const t=this.$el.find(".js-tabs").eq(0),e=this.$el.find(".js-pages").eq(0),s=1===e.children().length;this.settings.fixedChartHeight&&(this._normalizeSymbolListHeight(),setTimeout((()=>this._adjustSymbolsListHeight()),0)),s?this._startPage(e.children().eq(0)):(this._initTabs(t,e),!this.settings.fixedChartHeight&&this.settings.adjust_widget_height&&e.find(".js-chart").length&&this._adjustChartHeight(e,this.settings.adjust_widget_height)),this.$pagesContainer=e}_getPagesArray(t){return t?Array.prototype.slice.call(t.children):[]}_prepareSettings(t){let e;const s=this.$el.data("widget-data");if(s)if(s.is_embed_widget)e=Object.assign({},s,t);else{const i=this.userSettings;(!1===s.hotlists_select_enabled||s.override_user_exchange)&&delete i.exchange,e=Object.assign({},s,t,i)}else this.$el.data("widget-data",t),e=t;return void 0!==e.is_embed_widget&&(e.isEmbedWidget=e.is_embed_widget),e.is_embed_widget=void 0,e}_initTabs(t,e){const i=this._getPagesArray(e.get(0));(async function(t,e,i,a,r,o){return(await Promise.all([s.e(32818),s.e(80263),s.e(79297),s.e(92495),s.e(88939),s.e(59255),s.e(35956),s.e(198),s.e(11233)]).then(s.bind(s,765026))).createTabLabelsImp(t,e,i,a,r,o)})("watchlist-widget-tab-labels",this.tabsLabels,t.get(0),i,this._onActivePageChanged.bind(this)).then((t=>this._destroyTabLabels=t)),this._startPage(N((0,r.ensureNotNull)(this._getActivePage(i))))}_adjustChartHeight(t,e){const s=t.children(),i=document.querySelector(".js-quote-ticker"),a=document.querySelector(".js-chart");if(i&&a){const t=i.offsetHeight,o=a.offsetHeight;for(let i=0;i<s.length;i++){let a=e-s[i].querySelectorAll(".js-quote-ticker").length;if(a===e&&(a=1),a<e){const e=s[i].querySelector(".js-chart");(0,r.ensureNotNull)(e).style.height=`${o+t*a}px`}}}}_normalizeSymbolListHeight(){
const t=(0,r.ensureNotNull)(this.$el[0].firstElementChild),e=t.querySelector(".js-pages");if(!e)return;let s=0;if(e){let i=0;for(let t=0;t<e.children.length;t++){const a=e.children[t];if(i=Math.max(a.querySelectorAll(".js-quote-ticker").length,i),!a.classList.contains("i-hidden")){const t=a.querySelector(".js-quote-ticker");t&&(s=t.offsetHeight)}}const a=t.querySelectorAll(".js-symbols-wrapper");for(let t=0;t<a.length;t++){a[t].style.minHeight=s*i+"px"}}}_adjustSymbolsListHeight(){const t=this.$el[0].firstElementChild,e=getComputedStyle(t),s=t.offsetHeight-parseInt(e.paddingTop)-parseInt(e.paddingBottom),i=t.querySelector(".js-widget-head");let a=0;if(i){const t=getComputedStyle(i);a=i.offsetHeight+parseInt(t.marginTop)+parseInt(t.marginBottom)}const r=t.querySelector(".js-pages");if(!r)return;let o=0,n=0,l=0;for(let t=0;t<r.children.length;t++){const e=r.children[t];if(!e.classList.contains("i-hidden")){const t=e.querySelector(".js-chart");t&&(o=t.offsetHeight);const s=e.querySelector(".js-timeframes");if(s){const t=getComputedStyle(s);n=s.offsetHeight+parseInt(t.marginTop)+parseInt(t.marginBottom)}const i=e.querySelector(".js-quick-link-wrapper");i&&(l=i.offsetHeight);break}}const h=s-a-(o+n+l),d=r.querySelectorAll(".js-symbols-wrapper");for(let t=0;t<d.length;t++){d[t].style.minHeight=`${h}px`}}_createWidgetWatchlistPage(t){return new x(t,{chartColorMap:(0,u.pickFields)(this.settings,D),dateRange:this.settings.dateRange||S.timeFrames["12m"].value.value,dateRangeOptions:this.settings.dateRangeOptions,disableLastFallingFlash:this.settings.disableLastFallingFlash,disableLastGrowingFlash:this.settings.disableLastGrowingFlash,hideAbsoluteChange:this.settings.hideAbsoluteChange,indexNameBold:this.settings.indexNameBold,indexNonClickable:this.settings.indexNonClickable,isEmbedWidget:this.settings.isEmbedWidget,largeChartUrl:this.settings.largeChartUrl,noLinks:this.settings.noLinks,onlyDescription:this.settings.onlyDescription,paintLastWithChangeColors:this.settings.paintLastWithChangeColors,showDataMode:this.settings.showDataMode,showMarketStatus:this.settings.showMarketStatus,showTitles:this.settings.showTitles,tradingviewBaseUrl:this.settings.tradingviewBaseUrl,utmInfo:this.settings.utmInfo,valueBold:this.settings.valueBold,valueTitleMarked:this.settings.valueTitleMarked,widgetColorClassMap:this.widgetColorClassMap,widgetName:this.widgetName,showSymbolLogo:this.settings.showSymbolLogo,locale:this.settings.locale,showFloatingTooltip:this.settings.showFloatingTooltip,colorTheme:this.settings.colorTheme})}_stopPage(t,e){const s=this._getCachedWidgetPage(t);s&&(e?this._setStopTimeout(t):s.stop())}_onActivePageChanged(t,e){e.forEach(((e,s)=>{if(t===s){if(this._startPage(N(e)),this.settings.isEmbedWidget){const t=this._getCachedWidgetPage(N(e));null==t||t.adjustToAvailableSizes()}}else this._stopPage(N(e))}))}_getActivePage(t){for(const e of t)if(!e.classList.contains("i-hidden"))return e;return null}_cacheWidgetPage(t,e){t.data("watchlist-widget-page",e)}_setStopTimeout(t){
this._stopPageTimeouts[t.index()]=setTimeout(this._stopPage.bind(this,t))}_deleteStopTimeout(t){const e=this._stopPageTimeouts[t.index()];e&&(clearTimeout(e),delete this._stopPageTimeouts[t.index()])}}class x{constructor(t,e){if(this._symbols=[],this._chart=null,this._symbol=null,this._started=!1,this._hasDataPromise=null,t&&t.length||(F.logError("`$el` is required"),(0,r.assert)(Boolean(t&&t.length),"`$el` is required")),this.$el=t,this.$chart=t.find(".js-chart").eq(0),this.$symbolsWrapper=t.find(".js-symbols-wrapper").eq(0),this.hasChart=!!this.$chart.length,this.settings=this.transferSettings(e),this.showDataMode=!(!1===this.settings.showDataMode),this.showMarketStatus=!(!1===this.settings.showMarketStatus),this.chartColorMap=this.settings.chartColorMap,this.widgetColorClassMap=this.settings.widgetColorClassMap,"hotlists"===this.settings.widgetName||this.settings.isEmbedWidget){this._symbols=this.$el.data("symbols");this.$el.find(".js-symbols-wrapper").find(".js-symbols-body").append(this._renderPage())}this.settings.isEmbedWidget&&this.adjustToAvailableSizes(),this.start()}transferSettings(t){const e=t.utmInfo?N.param(t.utmInfo):void 0;let s;if(t.largeChartUrl){s=t.largeChartUrl;s.match(/^https?:\/\//)||(s="http://"+s)}return{chartColorMap:Object.assign({},this.defaultChartColors,t.chartColorMap),customer:t.customer,dateRange:t.dateRange,dateRangeOptions:t.dateRangeOptions,disableLastFallingFlash:Boolean(t.disableLastFallingFlash),disableLastGrowingFlash:Boolean(t.disableLastGrowingFlash),hideAbsoluteChange:Boolean(t.hideAbsoluteChange),indexNameBold:t.indexNameBold,indexNonClickable:t.indexNonClickable,isEmbedWidget:t.isEmbedWidget,largeChartUrl:s,noLinks:t.noLinks,onlyDescription:t.onlyDescription,paintLastWithChangeColors:Boolean(t.paintLastWithChangeColors),showDataMode:t.showDataMode,showMarketStatus:t.showMarketStatus,showTitles:t.showTitles,tradingviewBaseUrl:t.tradingviewBaseUrl,utmStringified:e,valueBold:t.valueBold,valueTitleMarked:t.valueTitleMarked,widgetColorClassMap:Object.assign({},t.widgetColorClassMap),widgetName:t.widgetName,showSymbolLogo:t.showSymbolLogo,locale:t.locale,showFloatingTooltip:t.showFloatingTooltip,colorTheme:t.colorTheme}}get $symbols(){return this.$el.find(".js-quote-ticker")}set symbols(t){let e,s;const i=this._symbols.map((t=>t.s)),a=t.map((t=>t.s)),r=(t,s)=>N(s).data("symbol")===e;if(i&&i.toString()!==a.toString()){const o={},n=[],h=[];for(let t=0;t<i.length;t++){e=i[t];const l=a.indexOf(e),h=t,d=this.$symbols.filter(r);l!==h&&n.push(e),-1===l?(this._stopSymbolRow(d),this._symbol===e&&(s=a[h])):o[e]=d.detach()}const d=this.$el.find(".js-symbols-wrapper").find(".js-symbols-body");d.empty(),this.settings.showTitles&&d.append(this._renderTitle()),a.forEach((t=>{t in o?d.append(o[t]):(n.push(t),h.push(t),this._renderSymbol({s:t})),s&&s===t&&(this.symbol=s)})),this._symbols=t,this.$symbols.each(((t,e)=>{const s=N(e),i=s.data("symbol");-1!==n.indexOf(i)&&(s.addClass("tv-site-table__row--updated"),setTimeout((()=>s.removeClass("tv-site-table__row--updated")),2*l.dur)),
-1!==h.indexOf(i)&&this._startSymbolRow(s)}))}}get defaultChartColors(){return{gridLineColor:(0,g.generateColor)(o.colorsPalette["color-widget-border"],100),scaleFontColor:(0,g.generateColor)(o.colorsPalette["color-text-secondary"]),plotLineColor:(0,g.generateColor)(o.colorsPalette["color-brand"]),plotLineColorGrowing:void 0,plotLineColorFalling:void 0,belowLineFillColorGrowing:(0,g.generateColor)(o.colorsPalette["color-tv-blue-500"],82),belowLineFillColorFalling:(0,g.generateColor)(o.colorsPalette["color-tv-blue-500"],82),belowLineFillColorGrowingBottom:(0,g.generateColor)(o.colorsPalette["color-tv-blue-500"],100),belowLineFillColorFallingBottom:(0,g.generateColor)(o.colorsPalette["color-tv-blue-500"],100),lastPriceLineColor:(0,g.generateColor)(o.colorsPalette["color-brand"],50),lastPriceLineColorGrowing:void 0,lastPriceLineColorFalling:void 0}}get pageTemplates(){return{page:"\n\t\t\t\t{{#showTitles}}\n\t\t\t\t\t{{>title}}\n\t\t\t\t{{/showTitles}}\n\t\t\t\t{{#symbols}}\n\t\t\t\t\t{{>symbol}}\n\t\t\t\t{{/symbols}}",symbol:`\n\t\t\t\t<div class="tv-widget-watch-list__row js-quote-ticker tv-site-table__row {{#showChart}} tv-site-table__row--interactive tv-widget-watch-list__row--interactive{{/showChart}}{{#updated}} tv-site-table__row--updated{{/updated}}" data-symbol="{{ s }}" data-description="{{ description }}">\n\t\t\t\t\t<div class="tv-site-table__column tv-widget-watch-list__main-column{{#symbolColumnClass}} {{symbolColumnClass}}{{/symbolColumnClass}}">\n\t\t\t\t\t\t<div class="tv-widget-watch-list__icon js-symbol-logo">\n\t\t\t\t\t\t\t${this.settings.showSymbolLogo&&(0,h.getCircleLogoAnyHtml)({logoUrls:[],size:"medium"
})}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="tv-widget-watch-list__name">\n\t\t\t\t\t\t\t<div class="tv-widget-watch-list__ticker">\n\t\t\t\t\t\t\t\t{{^noLinks}}\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\thref="{{^largeChartUrl}}{{ symbolUrl }}{{/largeChartUrl}}{{#largeChartUrl}}{{ largeChartUrl }}{{/largeChartUrl}}"\n\t\t\t\t\t\t\t\t\t\t{{#isEmbedWidget}}target="_blank"{{/isEmbedWidget}}\n\t\t\t\t\t\t\t\t{{/noLinks}}\n\t\t\t\t\t\t\t\t{{#noLinks}}\n\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t{{/noLinks}}\n\t\t\t\t\t\t\t\t\t\tdata-symbol="{{ s }}"\n\t\t\t\t\t\t\t\t\t\tclass="\n\t\t\t\t\t\t\t\t\t\t\ttv-widget-watch-list__short-name\n\t\t\t\t\t\t\t\t\t\t\tapply-overflow-tooltip\n\t\t\t\t\t\t\t\t\t\t\tjs-symbol-link\n\t\t\t\t\t\t\t\t\t\t\t{{#indexNameBold}}tv-widget-watch-list__short-name--bold{{/indexNameBold}}\n\t\t\t\t\t\t\t\t\t\t\t{{#noLinks}}tv-widget-watch-list__short-name--not-clickable{{/noLinks}}\n\t\t\t\t\t\t\t\t\t\t\t{{#onlyDescription}}\n\t\t\t\t\t\t\t\t\t\t\t\ttv-widget-watch-list__short-name--whole-height\n\t\t\t\t\t\t\t\t\t\t\t\t{{^description}}js-symbol-description-name{{/description}}\n\t\t\t\t\t\t\t\t\t\t\t\t{{#descriptionClass}}{{descriptionClass}}{{/descriptionClass}}\n\t\t\t\t\t\t\t\t\t\t\t{{/onlyDescription}}\n\t\t\t\t\t\t\t\t\t\t\t{{^onlyDescription}}\n\t\t\t\t\t\t\t\t\t\t\t\t{{#shortNameClass}}{{shortNameClass}}{{/shortNameClass}}\n\t\t\t\t\t\t\t\t\t\t\t{{/onlyDescription}}\n\t\t\t\t\t\t\t\t\t\t"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{{^onlyDescription}}{{ shortName }}{{/onlyDescription}}\n\t\t\t\t\t\t\t\t\t\t{{#onlyDescription}}\n\t\t\t\t\t\t\t\t\t\t\t{{#description}}{{ description }}{{/description}}\n\t\t\t\t\t\t\t\t\t\t{{/onlyDescription}}\n\t\t\t\t\t\t\t\t{{^noLinks}}\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t{{/noLinks}}\n\t\t\t\t\t\t\t\t{{#noLinks}}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t{{/noLinks}}\n\t\t\t\t\t\t\t\t{{#showDataMode}}\n\t\t\t\t\t\t\t\t\t<span class="tv-data-mode--watch-list js-data-mode"></span>\n\t\t\t\t\t\t\t\t{{/showDataMode}}\n\t\t\t\t\t\t\t\t{{#showMarketStatus}}\n\t\t\t\t\t\t\t\t\t<span class="tv-market-status--watch-list js-market-status"></span>\n\t\t\t\t\t\t\t\t{{/showMarketStatus}}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{{^onlyDescription}}\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<span class="tv-widget-watch-list__description{{^isEmbedWidget}} tv-widget-watch-list__description--uppercase{{/isEmbedWidget}} apply-overflow-tooltip{{^description}} js-symbol-description-name{{/description}}{{#descriptionClass}} {{descriptionClass}}{{/descriptionClass}}">\n\t\t\t\t\t\t\t\t\t{{#description}}{{ description }}{{/description}}{{^description}}&nbsp;{{/description}}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{{/onlyDescription}}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="tv-widget-watch-list__quote-column tv-site-table__column tv-site-table__column--align_right tv-site-table__column--last-phone-vertical{{#symbolColumnClass}} {{symbolColumnClass}}{{/symbolColumnClass}}">\n\t\t\t\t\t\t<div class="tv-widget-watch-list__last-wrap">\n\t\t\t\t\t\t\t<div class="tv-widget-watch-list__last{{#valueBold}} tv-widget-watch-list__last--bold{{/valueBold}}{{#lastClass}} {{lastClass}}{{/lastClass}}{{#lastDirection}} js-symbol-change-direction{{/lastDirection}} js-symbol-last apply-overflow-tooltip">\n\t\t\t\t\t\t\t\t{{#last}}{{ last }}{{/last}}{{^last}}&nbsp;{{/last}}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="tv-widget-watch-list__change{{#hideAbsoluteChange}} tv-widget-watch-list__change--whole-height{{/hideAbsoluteChange}} apply-overflow-tooltip js-symbol-change-direction">\n\t\t\t\t\t\t\t<span class="tv-widget-watch-list__change-inline{{#hideAbsoluteChange}} tv-widget-watch-list__change-inline--whole-height{{/hideAbsoluteChange}} js-symbol-change-pt">\n\t\t\t\t\t\t\t\t{{#change_pt}}{{ change_pt }}{{/change_pt}}{{^change_pt}}&nbsp;{{/change_pt}}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t{{^hideAbsoluteChange}}\n\t\t\t\t\t\t\t<span class="tv-widget-watch-list__change-inline js-symbol-change">\n\t\t\t\t\t\t\t\t{{#change}}{{ change }}{{/change}}{{^change}}&nbsp;{{/change}}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t{{/hideAbsoluteChange}}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>`,
title:'\n\t\t\t\t<div class="tv-site-table__row js-symbols-titles">\n\t\t\t\t\t<div class="tv-site-table__column tv-widget-watch-list__main-column tv-widget-watch-list__main-column--title">\n\t\t\t\t\t\t<div class="tv-widget-watch-list__name">\n\t\t\t\t\t\t\t<span class="tv-widget-watch-list__title tv-widget-watch-list__short-name--whole-height apply-overflow-tooltip">Index</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="tv-widget-watch-list__quote-column tv-widget-watch-list__quote-column--title tv-site-table__column tv-site-table__column--align_right tv-site-table__column--last-phone-vertical">\n\t\t\t\t\t\t<div class="tv-widget-watch-list__last apply-overflow-tooltip tv-widget-watch-list__title">\n\t\t\t\t\t\t\tValue{{#valueTitleMarked}}*{{/valueTitleMarked}}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="tv-widget-watch-list__change tv-widget-watch-list__title apply-overflow-tooltip">\n\t\t\t\t\t\t\t<span class="tv-widget-watch-list__change-inline">Change</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>'}}set symbol(t){if(this._symbol=t,this._chart&&this._chart.changeSymbol(t,this._getSeriesOptions()),this.hasChart){const e=a()("tv-site-table__row--highlighted tv-widget-watch-list__row--highlighted",this.widgetColorClassMap.symbolActiveColor);this.$symbols.removeClass(e).filter(((e,s)=>N(s).data("symbol")===t)).addClass(e)}else this.$symbols.filter(((e,s)=>N(s).data("symbol")===t))}get symbol(){return this._symbol||""}start(){this._started||(this.symbol||(this.symbol=this.$symbols.eq(0).data("symbol")),this.hasChart&&(this._bindSymbolClick(),this._startChart()),this._startSymbolRows(),this._started=!0)}stop(){this._started&&(this._unbindSymbolClick(),this._stopChart(),this._stopSymbolRows(),this._started=!1)}hasData(){if(null===this._hasDataPromise){const t=[];this.$symbols.each(((e,s)=>{const i=N(s).data("watchlist-widget__symbol-row");t.push(i.hasData())})),this._hasDataPromise=Promise.all(t).then((t=>t.some((t=>t))))}return this._hasDataPromise}adjustToAvailableSizes(){var t;const e=(0,r.ensureNotNull)(document.querySelector(".js-watchlist-widget")),s=(0,r.ensureNotNull)(document.querySelector(".js-quote-ticker"));let i=(0,r.ensureNotNull)(e.parentElement).offsetHeight-e.offsetHeight,a=this.hasChart?this.$chart[0].offsetHeight:0,o=this.$symbolsWrapper[0].offsetHeight,n=this.$symbolsWrapper[0].scrollHeight-o;if(0===i&&0===n)return;const l=s.offsetHeight;let h=0;i>0&&n>0?h=Math.min(n,i/2):i<0&&(h=this.hasChart?Math.max(Math.floor(i/2),l-o):i),o+=h,n-=h,i-=h,this.hasChart&&(a+=i,i=0),this.hasChart&&n>0&&n<Math.floor(a/4)&&(a-=n,o+=n),this.hasChart&&a<100&&(o-=100-a,a=100),this.$symbolsWrapper[0].style.height=o+"px",this.hasChart&&(this.$chart[0].style.height=a+"px",null===(t=this._chart)||void 0===t||t.resizeByContainer())}_bindSymbolClick(){this.$el.on("click",".js-quote-ticker",(t=>{this.symbol=N(t.currentTarget).data("symbol")}))}_unbindSymbolClick(){this.$el.off("click",".js-quote-ticker")}_getSymbolDataToRender(t){
const[e,s]=t.s.split(":"),i=t.t||s,a=this.settings.largeChartUrl&&(0,_.makeTemplateSymbolUrl)(this.settings.largeChartUrl,{shortName:s,exchange:e})||"",r=(0,_.makeSymbolPageUrl)({shortName:s,exchange:e},this.settings.utmInfo),o=t.d;return{s:t.s,description:o,exchange:e,shortName:i,symbolUrl:r,showChart:this.hasChart,onlyDescription:this.settings.onlyDescription,isEmbedWidget:this.settings.isEmbedWidget,utmStringified:this.settings.utmStringified,largeChartUrl:a,tradingviewBaseUrl:this.settings.tradingviewBaseUrl,showDataMode:this.showDataMode,showMarketStatus:this.showMarketStatus,indexNameBold:this.settings.indexNameBold,valueBold:this.settings.valueBold,shortNameClass:this.widgetColorClassMap.symbolShortNameColor,descriptionClass:this.widgetColorClassMap.symbolDescriptionColor,symbolColumnClass:this.widgetColorClassMap.symbolSeparatorColor,lastClass:this.widgetColorClassMap.lastColor,lastDirection:this.settings.paintLastWithChangeColors,hideAbsoluteChange:this.settings.hideAbsoluteChange,noLinks:this.settings.noLinks}}_renderSymbol(t){return P.render(this.pageTemplates.symbol,this._getSymbolDataToRender(t))}_renderPage(){const t=[];return this._symbols.forEach((e=>t.push(this._getSymbolDataToRender(e)))),P.render(this.pageTemplates.page,{symbols:t,showTitles:this.settings.showTitles,showDataMode:this.showDataMode,showMarketStatus:this.showMarketStatus,valueTitleMarked:this.settings.valueTitleMarked},this.pageTemplates)}_renderTitle(){return P.render(this.pageTemplates.title,{valueTitleMarked:this.settings.valueTitleMarked})}_startChart(){if(this._chart)return void this._chart.enable();if(!this.symbol)return;const t=this.settings.showFloatingTooltip,e=this._getSeriesOptions();let s;if(t){const t="dark"===this.settings.colorTheme?o.colorsPalette["color-cold-gray-700"]:o.colorsPalette["color-cold-gray-200"];s={vertLine:{visible:!0,style:T.LineStyle.Solid,width:1,color:t},mode:T.CrosshairMode.Magnet}}this._chart=new b.LightweightMiniChart(this.symbol,this.$chart.get(0),null,{timeframe:{visible:!0,container:this.$el.find(".js-timeframes").get(0),value:this.settings.dateRange,options:this.settings.dateRangeOptions},valuesTracking:t?"1":"0",chartOptions:{minWidth:this.$chart.width(),minHeight:this.$chart.height(),chart:{grid:{horzLines:{visible:!0,color:this.chartColorMap.gridLineColor,style:T.LineStyle.Dotted}},crosshair:s,layout:{textColor:this.chartColorMap.scaleFontColor,fontSize:12},localization:{locale:(0,E.getIsoLanguageCodeFromLanguage)(this.settings.locale)},rightPriceScale:{visible:!1}},series:e,loading:{spinner:{visible:!0}}}})}_stopChart(){this._chart&&this._chart.disable()}_getSeriesOptions(){return{chartType:"area",lineColor:this.chartColorMap.plotLineColor,growingLineColor:this.chartColorMap.plotLineColorGrowing,fallingLineColor:this.chartColorMap.plotLineColorFalling,lineWidth:2,growingTopColor:this.chartColorMap.belowLineFillColorGrowing,fallingTopColor:this.chartColorMap.belowLineFillColorFalling,growingBottomColor:this.chartColorMap.belowLineFillColorGrowingBottom,
fallingBottomColor:this.chartColorMap.belowLineFillColorFallingBottom,crosshairMarkerVisible:this.settings.showFloatingTooltip,crosshairMarkerRadius:3.5,crosshairMarkerBorderColor:"dark"===this.settings.colorTheme?o.colorsPalette["color-cold-gray-850"]:o.colorsPalette["color-white"],scaleMargins:{top:.01,bottom:.05}}}_startSymbolRows(){this.$symbols.each(((t,e)=>{this._startSymbolRow(N(e))}))}_startSymbolRow(t){const e=t.data("watchlist-widget__symbol-row");e?e.start():t.data("watchlist-widget__symbol-row",new A(t,{tradingviewBaseUrl:this.settings.tradingviewBaseUrl,largeChartUrl:this.settings.largeChartUrl,isEmbedWidget:this.settings.isEmbedWidget,directionUpClass:this.widgetColorClassMap.changeUpColor,directionDownClass:this.widgetColorClassMap.changeDownColor,directionNeutralClass:this.widgetColorClassMap.changeNeutralColor,lastGrowingClass:this.settings.disableLastGrowingFlash?null:this.widgetColorClassMap.lastGrowingFlashColor,lastFallingClass:this.settings.disableLastFallingFlash?null:this.widgetColorClassMap.lastFallingFlashColor,noLinks:this.settings.noLinks,showSymbolLogo:this.settings.showSymbolLogo}))}_stopSymbolRows(){this.$symbols.each(((t,e)=>{this._stopSymbolRow(N(e))}))}_stopSymbolRow(t){const e=t.data("watchlist-widget__symbol-row");e&&e.stop()}}class A{constructor(t,e){this._hasData=new(v()),this._setSymbolLinkCompleted=!1,t&&t.length||(F.logError("`$el` is required"),(0,r.assert)(Boolean(t&&t.length),"`$el` is required")),this.$el=t,this.symbol=t.data("symbol"),this.description=t.data("description"),this.start(),this._largeChartUrl=e.largeChartUrl||"",this._utmInfo=e.utmInfo||{},this._isEmbedWidget=!!e.isEmbedWidget,this._noLinks=e.noLinks,this._showSymbolLogo=e.showSymbolLogo;const s=(0,u.pickFields)(e,["directionUpClass","directionDownClass","directionNeutralClass","lastGrowingClass","lastFallingClass"]);this._directionUpClass=s.directionUpClass,this._directionDownClass=s.directionDownClass,this._directionNeutralClass=s.directionNeutralClass,this._lastGrowingClass=s.lastGrowingClass,this._lastFallingClass=s.lastFallingClass,this._setSymbolLogo=(0,d.getLogoUrlsHook)((t=>{const e=this.symbol.split(":")[1],s=(this.description||e||"")[0];(0,r.ensureNotNull)(this.$el[0].querySelector(".js-symbol-logo")).innerHTML=(0,h.getCircleLogoAnyHtml)({logoUrls:t,size:"medium",placeholderLetter:s})}))}start(){this._startQuoteTicker().then((()=>{this._startMarketStatus()})).catch((t=>F.logError(`${t.exchange} ${t.reason}`)))}stop(){this._stopQuoteTicker(),this._stopMarketStatus()}hasData(){return void 0===this._hasData.value()?new Promise((t=>{this._hasData.subscribe(t,{once:!0})})):Promise.resolve(this._hasData.value())}_startMarketStatus(){if(this.$el.find(".js-market-status")[0]){const t=new w.MarketStatusIndicator({classSuffix:"--for-watch-list",el:this.$el.find(".js-market-status")[0],short:!0,symbol:this.symbol});t.start(),this.$el.data("market-status",t)}const t=this.$el.find(".js-data-mode")[0];if(t){const e=new f.DataModeIndicator({classSuffix:"--for-watch-list",el:t,short:!0,symbol:this.symbol})
;e.start(),this.$el.data("data-mode",e)}}_stopMarketStatus(){const t=this.$el.data("market-status"),e=this.$el.data("data-mode");t&&t.stop(),e&&e.stop()}_showSFWarning(){var t;const e=this.$el.get(0);if(e.getElementsByClassName("js-exclamationed-symbol").length)return;const s=document.createElement("span");s.classList.add("tv-widget-watch-list__symbol-exclamation-mark","js-exclamationed-symbol","apply-common-tooltip"),s.setAttribute("title",(0,m.getSFWarningTextForFreeUsers)());const i=e.getElementsByClassName("js-symbol-link").item(0);i&&(i.appendChild(s),null===(t=window.loginStateChange)||void 0===t||t.subscribe(null,(()=>{if(window.is_authenticated){const t=e.getElementsByClassName("js-exclamationed-symbol");for(;t.length>0;)(0,r.ensureNotNull)(t[0].parentNode).removeChild(t[0])}})))}_startQuoteTicker(){let t=this.$el.data("quote-ticker");if(t)return t.enable(),Promise.resolve(t);const e=this._showSFWarning.bind(this),s=(t,e,s)=>{this._setSymbolLinkCompleted||this._noLinks||this._setSymbolLink(t),this._showSymbolLogo&&this._setSymbolLogo(t,e,s)};return new Promise(((i,a)=>{(0,c.check)(this.symbol,!1).then((a=>{const r={dontDyePrice:!0,addDescriptionTitle:!1,signPositive:!0,changePercentInBrackets:!1,setStateHook:s,changeDirectionUpClass:this._directionUpClass||void 0,changeDirectionDownClass:this._directionDownClass||void 0,changeDirectionNeutralClass:this._directionNeutralClass||void 0,lastGrowingClass:this._lastGrowingClass||void 0,lastFallingClass:this._lastFallingClass||void 0,initedHook:()=>{this._hasData.setValue(!0)},noSuchSymbolHook:()=>{this._hasData.setValue(!1)},sfPermissionDeniedHook:()=>{this._hasData.setValue(!1),e()}};t=new y.QuoteTicker(a,this.$el.get(0),r),this.$el.data("quote-ticker",t),i(t)})).catch((t=>{this._hasData.setValue(!1),e(),a(t)}))}))}_setSymbolLink(t){const e=t.short_name,s=t.exchange,i=t.pro_name,a=t.type;if(!(e&&s&&i&&a))return;const r=this.$el[0].getElementsByClassName("js-symbol-link")[0],o=this._largeChartUrl&&this._isEmbedWidget,n={shortName:e,exchange:s,proName:i,type:a};r.href=o?(0,_.makeTemplateSymbolUrl)(this._largeChartUrl,n):(0,_.makeSymbolPageUrl)(n,this._utmInfo),this._setSymbolLinkCompleted=!0}_stopQuoteTicker(){const t=this.$el.data("quote-ticker");t&&t.disable()}}},596080:(t,e,s)=>{"use strict";var i,a;s.d(e,{ParentEvents:()=>i,IFrameEvents:()=>a}),function(t){let e;!function(t){t.SetSymbol="set-symbol",t.SetInterval="set-interval"}(e=t.Names||(t.Names={}))}(i||(i={})),function(t){let e;!function(t){t.SymbolClick="tv-widget-symbol-click",t.WidgetLoad="tv-widget-load",t.WidgetReady="tv-widget-ready",t.ResizeIframe="tv-widget-resize-iframe",t.NoData="tv-widget-no-data"}(e=t.Names||(t.Names={}))}(a||(a={}))},410899:(t,e,s)=>{"use strict";function i(t,e,s){const i={name:t,frameElementId:e,data:s};window.parent.postMessage(i,"*")}function a(t,e){function s(s){s.data&&s.data.name&&s.data.name===t&&e(s.data.data)}return window.addEventListener("message",s,!1),()=>{window.removeEventListener("message",s,!1)}}s.d(e,{dispatchEventToParent:()=>i,listenEventFromParent:()=>a})},
405128:(t,e,s)=>{"use strict";s.d(e,{getSFWarningTextForFreeUsers:()=>a});var i=s(575932);function a(){return window.is_authenticated?(0,i.t)("Data is not available for basic account holders"):(0,i.t)("Login or register to get data")}},808417:(t,e,s)=>{"use strict";s.d(e,{check:()=>h});var i=s(166437),a=s(86674),r=s(560507),o=s(833813),n=s(397239);const l=JSON.parse('{"OK":"OK","ERR":"ERR","SYMBOL_NOT_AVAILABLE_FOR_ANON":"SYMBOL_NOT_AVAILABLE_FOR_ANON","DELAY_NOT_AVAILABLE":"DELAY_NOT_AVAILABLE","NEED_SIGN_AGREEMENT":"NEED_SIGN_AGREEMENT","NEED_ADD_SERVICE":"NEED_ADD_SERVICE"}');function h(t,e=!0){return new Promise(((s,h)=>{const d=(0,i.getExchange)(t);d?(0,n.checkIfExchangeAvailable)(d).then((i=>i?s(t):(0,r.enabled)(o.ProductFeatures.IDC_AVAILABLE_DELAY)?e?void(0,a.fetch)(`/idc-sign-agreement-check/${d}/`,{credentials:"include"}).then((e=>e.json().then((e=>e.res===l.DELAY_NOT_AVAILABLE?h({exchange:d,errCode:e.res,reason:"delay not available",symbol:t}):e.res===l.NEED_SIGN_AGREEMENT?h({exchange:d,errCode:e.res,reason:"need sign agreement",symbol:t}):e.res===l.NEED_ADD_SERVICE?h({exchange:d,errCode:e.res,reason:"need add service",symbol:t}):s(t))))).catch((()=>{s(t)})):s(t):h({exchange:d,errCode:l.DELAY_NOT_AVAILABLE,reason:"delay not available",symbol:t}))):s(t)}))}},17966:(t,e,s)=>{"use strict";s.d(e,{getCircleLogoAnyHtml:()=>r});var i=s(562840),a=s(315723);function r(t){const{logoUrls:e,...s}=t;return 1===e.length?(0,i.getCircleLogoHtml)({logoUrl:e[0],...s}):2===e.length?(0,a.getCircleLogoPairHtml)({primaryLogoUrl:e[0],secondaryLogoUrl:e[1],...s}):(0,i.getCircleLogoHtml)({logoUrl:void 0,...s})}},692598:(t,e,s)=>{"use strict";s.d(e,{getLogoUrlsHook:()=>n,removeUsdAndStableCoinFromCryptoPairLogos:()=>l,resolveLogoUrls:()=>o});var i=s(849204);const a=JSON.parse('["XTVCUSDT","XTVCDAI","XTVCBUSD","XTVCTUSD","XTVCUSDC","XTVCDGX","XTVCHUSD"]'),r=(0,i.getLogoUrlResolver)();function o(t,e=i.LogoSize.Medium){const s=t.logoid,a=t["base-currency-logoid"],o=t["currency-logoid"],n=s&&r.getSymbolLogoUrl(s,e);if(n)return[n];const l=a&&r.getSymbolLogoUrl(a,e),h=o&&r.getSymbolLogoUrl(o,e);return l&&h?[l,h]:l?[l]:h?[h]:[]}function n(t,e){let s=!1;return(i,a,r)=>{const n=i["currency-logoid"]&&i["base-currency-logoid"];if(!s&&(i.logoid||n||r)){s=!0;const a=l(o({logoid:i.logoid,"base-currency-logoid":i["base-currency-logoid"],"currency-logoid":i["currency-logoid"]},e));t(a)}}}function l(t){return 2!==t.length?t:function(t){return t.some((t=>h(t)))}(t)&&!function(t){return t.some((t=>t.includes("country")&&!h(t)))}(t)?t.filter((t=>!h(t))):function(t){return t.some((t=>c(t)))}(t)&&function(t){return t.some((t=>d(t)))}(t)?t.filter((t=>d(t))):t}function h(t){return t.includes("country/US")}function d(t){return t.includes("crypto")&&!c(t)}function c(t){return a.some((e=>t.includes(e)))}},108999:t=>{t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8 14" width="8" height="14"><path fill="none" fill-rule="evenodd" stroke="currentColor" stroke-linecap="square" stroke-width="2" d="M2 2l4 5-4 5"/></svg>'}}]);